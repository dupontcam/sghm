# SGHM — Resumo da Conversa (2025-12-06)

Este arquivo registra, de forma resumida, os principais pontos e ações desta sessão entre o usuário e o agente GitHub Copilot.

## Contexto
- Repositório: `sghm` (branch `main`)
- Ambiente: Windows (shell padrão cmd)
- Objetivo principal: gerar/atualizar `.github/copilot-instructions.md` para orientar agentes de IA neste codebase.

## Participantes
- Usuário
- GitHub Copilot (agente)

## Linha do Tempo (resumo)
- O agente analisou a estrutura do repo (`sghm/`) e arquivos-chave: READMEs, backend (`server.js`, `routes/*`, `middleware/*`, `prisma/schema.prisma`), e frontend (`src/services/api.ts`).
- Com base nisso, o agente compilou instruções concisas para agentes de IA e criou o arquivo: `.github/copilot-instructions.md`.
- O usuário perguntou onde estava a “última conversação”; o agente explicou que o chat não é salvo automaticamente no repo e ofereceu exportar um transcript.
- A pedido do usuário, este arquivo foi criado para facilitar a visualização do histórico/resumo.

## Ações no Repositório
- Criado o arquivo: `c:\SGHM\.github\copilot-instructions.md`
- Criado este arquivo de resumo: `c:\SGHM\sghm\docs\chat-2025-12-06.md`.

## Pontos Técnicos Importantes Descobertos
- Backend expõe `/api` com rotas em `backend/routes/*` e middleware de auth em `backend/middleware/auth.js`.
- Esquema Prisma em `backend/prisma/schema.prisma` define enums e relações (incluindo `status_honorario`: PENDENTE, ENVIADO, PAGO, GLOSADO, CANCELADO).
- Frontend centraliza chamadas no `src/services/api.ts` com `tokenManager` (chave `sghm_token`) e transformadores por recurso (`medicos`, `pacientes`, `consultas`, `planos`, `honorarios`).
- Datas sem horário são ajustadas para `T12:00:00.000Z` para evitar problemas de timezone.
- Teste rápido via `backend/test-apis-simple.js` (pode requerer `npm install node-fetch@2`).

## Próximos Passos Sugeridos
- Expandir `.github/copilot-instructions.md` com exemplos de payload/response por recurso e tabela de mapeamento front⇄back.
- Padronizar scripts convenientes no backend (ex.: `start`, `db:migrate`, `db:seed`).

---
Gerado automaticamente pelo GitHub Copilot em 2025-12-06 para facilitar rastreabilidade da sessão.
